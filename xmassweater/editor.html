<!DOCTYPE html>
<html lang="en">
<head>
    <!-- Fathom - simple website analytics - https://github.com/usefathom/fathom -->
    <script>
        (function(f, a, t, h, o, m){
            a[h]=a[h]||function(){
                (a[h].q=a[h].q||[]).push(arguments)
            };
            o=f.createElement('script'),
                m=f.getElementsByTagName('script')[0];
            o.async=1; o.src=t; o.id='fathom-script';
            m.parentNode.insertBefore(o,m)
        })(document, window, '//stats.josh.earth/tracker.js', 'fathom');
        fathom('set', 'siteId', 'GISNV');
        fathom('trackPageview');
    </script>
    <!-- / Fathom -->
    <meta charset="UTF-8">
    <meta name="twitter:card" content="summary">
    <meta name="twitter:site" content="@joshmarinacci" />
    <meta name="twitter:title" content="Xmas Sweater Builder" />
    <meta name="twitter:image" content="https://vr.josh.earth/webxr-experiments/xmassweater/screenshot.png" />
    <title>WebXR Xmas Sweater Builder</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>


<div id="main" class="fill">
    <div class="hbox col1 span gray-bg round">
        <div id="title" class="">Xmas Sweater Builder</div>
        <div id="subtitle">Draw art, view in VR, share!</div>
    </div>
    <div id='editor' class="col1 vbox gray-bg round">
        <div class="hbox toolbar" id="buttons"></div>
        <canvas class="col1" id="canvas" width="320" height="320"></canvas>
        <button id="share" class="bigbutton">Share</button>
    </div>
    <div class="col2 round" id="viewer">
        <canvas id="viewer-canvas" width="100" height="100"></canvas>
    </div>
</div>

<div id="dialog" class="vbox dialog stretch hidden">
    <div class="title">Share this URL</div>
    <p>All the data is in the URL. There is no server state.</p>
    <input type="text" id="url">
    <button id="tweet" class="bigbutton">tweet</button>
    <button id="close" class="bigbutton">close</button>
</div>

<div id="debug" class="vbox dialog hidden">
    <h3>debug info</h3>
    <p>
        logging info
    </p>
</div>

<script>
    window.joshfinished = false

    const $ = (sel) => document.querySelector(sel)
    $("#debug p").innerText = `loading = ${document.location}`
    window._photomnemonicReady = function() {
        return window.joshfinished
    }

</script>

<script src="editor.js" type="module"></script>

</body>
</html>
